<UserControl x:Class="CFLMedCab.View.Stock"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CFLMedCab.View"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="900">
    <Grid Background="AliceBlue">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Border Background="White" Padding="10" Margin="10 5" Grid.Row="0" CornerRadius="{DynamicResource GRadius}">
                <Grid>
                    <RadioButton Content="手术单号" Name="stockSnapshot" GroupName="menu1" FontSize="17" Style="{DynamicResource FrameNavButton}"  HorizontalAlignment="Left" Margin="20,18,0,0" VerticalAlignment="Top" IsChecked="True" Height="35" FontWeight="Bold" Click="StockSnapshot"/>
                    <RadioButton Content="效期查询" Name="validity" GroupName="menu1" FontSize="17" Style="{DynamicResource FrameNavButton}"  HorizontalAlignment="Left" Margin="130,18,0,0" VerticalAlignment="Top" Height="35" FontWeight="Bold" Click="EffectivePeriod"/>
                    <RadioButton Content="出入库记录查询" Name="stock" GroupName="menu1" FontSize="17" Style="{DynamicResource FrameNavButton}"  HorizontalAlignment="Left" Margin="240,18,0,0" VerticalAlignment="Top" Height="35" FontWeight="Bold" Click="StockQuery" />
                </Grid>
            </Border>
            <Border Background="White" Padding="10" Margin="10 5" Grid.Row="1" CornerRadius="{DynamicResource GRadius}" x:Name="gChoice" RenderTransformOrigin="0.497,0.507">
                <Grid>
              
                    <RadioButton  Content="库存快照" GroupName="Stock" IsChecked="True" Style="{DynamicResource CircularNavButton}"  HorizontalAlignment="Left" Margin="20,10,0,0" VerticalAlignment="Top" Click="StockSnapshot"/>
                    <RadioButton  Content="条件查询" Name="rbQuery" GroupName="rbQuery" IsChecked="True" HorizontalAlignment="Left" Margin="139,10,0,0" VerticalAlignment="Top" Style="{DynamicResource CircularNavButton}"  Click="ConditionQuery" />
                    <RadioButton GroupName="single" Name="single1" Visibility="Hidden" Style="{DynamicResource SingleNavButton}" Margin="129,-38,514,8" Content="效期小于1个月" />
                    <RadioButton GroupName="single" Name="single2" Visibility="Hidden" Style="{DynamicResource SingleNavButton}" Margin="282,-38,341,8" Content="效期小于2个月" />
                    <RadioButton GroupName="single" Name="single3" Visibility="Hidden" Style="{DynamicResource SingleNavButton}" Margin="444,-38,179,8" Content="效期小于3个月" />
                </Grid>
            </Border>
            <Border Background="White" Padding="10" Margin="10 5"  Grid.Row="1" CornerRadius="{DynamicResource GRadius}"  x:Name="gChoice1" RenderTransformOrigin="0.497,0.507" Visibility="Hidden">
                <Grid>
                    <RadioButton GroupName="single" Name="outStock" Style="{DynamicResource SingleNavButton}" IsChecked="True"  Margin="-610,-38,0,0" Content="出库" />
                    <RadioButton GroupName="single" Name="inStock"  Style="{DynamicResource SingleNavButton}" Margin="-300,-38,0,0" Content="入库" />
                </Grid>
            </Border>
            <Border Background="White" Padding="10" Margin="10 5"  Grid.Row="1" CornerRadius="{DynamicResource GRadius}"  Name="gQuery" Visibility="Hidden" >
                <Grid>
                    <TextBox HorizontalAlignment="Left" Height="30" Margin="20,10,0,-24" Grid.Row="1" TextWrapping="Wrap" Text="输入商品编码" VerticalAlignment="Top" MinWidth="275" Foreground="#999999" FontWeight="Bold" FontSize="14"/>
                    <TextBox HorizontalAlignment="Left" Height="30" Margin="325,9,0,0" TextWrapping="Wrap" Text="输入商品名称" VerticalAlignment="Top" MinWidth="275" Foreground="#999999" FontSize="14" FontWeight="Bold"/>
                    <Button Content="查询" BorderBrush="#619CF8" BorderThickness="2" Foreground="#619CF8" FontSize="13" HorizontalAlignment="Left" Margin="659,6,0,0" VerticalAlignment="Top" MinWidth="111" Height="30"/>
                </Grid>
            </Border>
            <Border Background="White" Padding="10" Margin="10 5"  Grid.Row="2" CornerRadius="{DynamicResource GRadius}" Name="Content">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid  x:Name="myGrid">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" x:Name="column1"/>
                        <Grid Grid.Column="1" x:Name="column2"/>
                        <Grid Grid.Column="2" x:Name="column3"/>
                        <Grid Grid.Column="3" x:Name="column4"/>
                        <Grid Grid.Column="4" x:Name="column5"/>
                    </Grid>
                    <Border Grid.Row="0" Padding="5"  Width="{Binding ElementName=myGrid,Path=ActualWidth}">
                        <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                            <Label Content="累计库存数量：" Name="Tips" FontSize="15" HorizontalAlignment="Left" Margin="31,0,0,0" VerticalAlignment="Top" FontWeight="Bold"/>
                            <Label Content="入库明细"/>
                        </StackPanel>
                    </Border>

                    <ListView  VerticalAlignment="Top" Grid.Row="1"  Name="listView" ItemsSource="{Binding}" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                               Margin="0,10,0,0"
                              Style="{StaticResource DefaultListView}">
                        <ListView.View>
                            <GridView AllowsColumnReorder="true">
                                <GridViewColumn Header="商品编码" DisplayMemberBinding="{Binding goods_code}"   Width="{Binding ElementName=column1,Path=ActualWidth}"/>
                                <GridViewColumn Header="商品名称" DisplayMemberBinding="{Binding name}"    Width="{Binding ElementName=column2,Path=ActualWidth}"/>
                                <GridViewColumn Header="库存数量" DisplayMemberBinding="{Binding amount}"   Width="{Binding ElementName=column3,Path=ActualWidth}"/>
                                <GridViewColumn Header="最早失效期" DisplayMemberBinding="{Binding expire_time}"   Width="{Binding ElementName=column4,Path=ActualWidth}"/>
                                <GridViewColumn Header="操作"   Width="{Binding ElementName=column5,Path=ActualWidth}">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal">
                                                <Button x:Name="BtnConfirm" Content="库存明细" Click="onStockDetailed"  Width="75" Height="23" Tag="{Binding }" Background="{x:Null}" BorderBrush="{x:Null}" Foreground="#FF0C80F3" BorderThickness="2,0,0,0"/>
                                            </StackPanel>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>

                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    <ListView  VerticalAlignment="Top" Grid.Row="1"  Name="listView1" ItemsSource="{Binding}" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                               Margin="0,10,0,0"
                              Style="{StaticResource DefaultListView}">
                        <ListView.View>
                            <GridView AllowsColumnReorder="true">
                                <GridViewColumn Header="商品编码" DisplayMemberBinding="{Binding goods_code}"   Width="{Binding ElementName=column1,Path=ActualWidth}"/>
                                <GridViewColumn Header="商品名称" DisplayMemberBinding="{Binding name}"    Width="{Binding ElementName=column2,Path=ActualWidth}"/>
                                <GridViewColumn Header="单品码" DisplayMemberBinding="{Binding code}"    Width="{Binding ElementName=column2,Path=ActualWidth}"/>
                                <GridViewColumn Header="批号" DisplayMemberBinding="{Binding batch_number}"   Width="{Binding ElementName=column3,Path=ActualWidth}"/>
                                <GridViewColumn Header="失效期" DisplayMemberBinding="{Binding expire_date,StringFormat='{}{0:yyyy年MM月dd日}',ConverterCulture=zh-CN}"   Width="{Binding ElementName=column4,Path=ActualWidth}"/>
                                <GridViewColumn Header="领用属性" DisplayMemberBinding="{Binding fetch_type}"    Width="{Binding ElementName=column2,Path=ActualWidth}"/>
                                <GridViewColumn Header="货位" DisplayMemberBinding="{Binding position}"   Width="{Binding ElementName=column3,Path=ActualWidth}"/>
                                <GridViewColumn Header="备注" DisplayMemberBinding="{Binding remarks}"   Width="{Binding ElementName=column4,Path=ActualWidth}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    <ListView  VerticalAlignment="Top" Grid.Row="1"  Name="listView2" ItemsSource="{Binding}" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                               Margin="0,10,0,0"
                              Style="{StaticResource DefaultListView}">
                        <ListView.View>
                            <GridView AllowsColumnReorder="true">
                                <GridViewColumn Header="商品编码" DisplayMemberBinding="{Binding goods_code}"   Width="{Binding ElementName=column1,Path=ActualWidth}"/>
                                <GridViewColumn Header="商品名称" DisplayMemberBinding="{Binding name}"    Width="{Binding ElementName=column2,Path=ActualWidth}"/>
                                <GridViewColumn Header="单品码" DisplayMemberBinding="{Binding code}"    Width="{Binding ElementName=column2,Path=ActualWidth}"/>
                                <GridViewColumn Header="生产批号" DisplayMemberBinding="{Binding batch_number}"   Width="{Binding ElementName=column3,Path=ActualWidth}"/>
                                <GridViewColumn Header="生成日期" DisplayMemberBinding="{Binding birth_date,StringFormat='{}{0:yyyy年MM月dd日}',ConverterCulture=zh-CN}"   Width="{Binding ElementName=column3,Path=ActualWidth}"/>
                                <GridViewColumn Header="失效日期" DisplayMemberBinding="{Binding expire_date,StringFormat='{}{0:yyyy年MM月dd日}',ConverterCulture=zh-CN}"   Width="{Binding ElementName=column4,Path=ActualWidth}"/>
                                <GridViewColumn Header="操作类型" DisplayMemberBinding="{Binding operate_type}"    Width="{Binding ElementName=column2,Path=ActualWidth}"/>
                                <GridViewColumn Header="库存变化单号" DisplayMemberBinding="{Binding good_change_orderid}"   Width="{Binding ElementName=column3,Path=ActualWidth}"/>
                                <GridViewColumn Header="业务类型" DisplayMemberBinding="{Binding business_type}"   Width="{Binding ElementName=column4,Path=ActualWidth}"/>
                                <GridViewColumn Header="操作日期" DisplayMemberBinding="{Binding create_time}"   Width="{Binding ElementName=column4,Path=ActualWidth}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>
            </Border>

            <Border Background="White" Padding="10" Margin="10 5"  Grid.Row="2" CornerRadius="{DynamicResource GRadius}" Name="Content1" Visibility="Hidden" >
                <Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" x:Name="ycolumn1"/>
                        <Grid Grid.Column="1" x:Name="ycolumn2"/>
                        <Grid Grid.Column="2" x:Name="ycolumn3"/>
                        <Grid Grid.Column="3" x:Name="ycolumn4"/>
                        <Grid Grid.Column="4" x:Name="ycolumn5"/>
                        <Grid Grid.Column="5" x:Name="ycolumn6"/>
                        <Grid Grid.Column="6" x:Name="ycolumn7"/>
                        <Grid Grid.Column="7" x:Name="ycolumn8"/>
                    </Grid>
             
                    <ListView  VerticalAlignment="Top"  Name="listView1" ItemsSource="{Binding}" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                               Margin="0,10,0,0"
                              Style="{StaticResource DefaultListView}">
                        <ListView.View>
                            <GridView AllowsColumnReorder="true">
                                <GridViewColumn Header="商品编码"  Width="{Binding ElementName=ycolumn1,Path=ActualWidth}"/>
                                <GridViewColumn Header="商品名称"  Width="{Binding ElementName=ycolumn2,Path=ActualWidth}"/>
                                <GridViewColumn Header="单品码"  Width="{Binding ElementName=ycolumn3,Path=ActualWidth}"/>
                                <GridViewColumn Header="批号"  Width="{Binding ElementName=ycolumn4,Path=ActualWidth}"/>
                                <GridViewColumn Header="失效期"  Width="{Binding ElementName=ycolumn5,Path=ActualWidth}"/>
                                <GridViewColumn Header="领用属性"  Width="{Binding ElementName=ycolumn6,Path=ActualWidth}"/>
                                <GridViewColumn Header="货位"  Width="{Binding ElementName=ycolumn7,Path=ActualWidth}"/>
                                <GridViewColumn Header="备注"  Width="{Binding ElementName=ycolumn8,Path=ActualWidth}"/>   
                            </GridView>
                        </ListView.View>
                    </ListView>

                </Grid>
            </Border>

            <Border Background="White" Padding="10" Margin="10 5"  Grid.Row="2" CornerRadius="{DynamicResource GRadius}" Name="Content2" Visibility="Hidden" >
                <Grid>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid Grid.Column="0" x:Name="zcolumn1"/>
                        <Grid Grid.Column="1" x:Name="zcolumn2"/>
                        <Grid Grid.Column="2" x:Name="zcolumn3"/>
                        <Grid Grid.Column="3" x:Name="zcolumn4"/>
                        <Grid Grid.Column="4" x:Name="zcolumn5"/>
                        <Grid Grid.Column="5" x:Name="zcolumn6"/>
                        <Grid Grid.Column="6" x:Name="zcolumn7"/>
                        <Grid Grid.Column="7" x:Name="zcolumn8"/>
                        <Grid Grid.Column="8" x:Name="zcolumn9"/>
                        <Grid Grid.Column="9" x:Name="zcolumn10"/>
                    </Grid>
        
                    <ListView  Name="listView2" ItemsSource="{Binding}" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                               Margin="0,10,0,0"
                              Style="{StaticResource DefaultListView}">
                        <ListView.View>
                            <GridView AllowsColumnReorder="true">
                                <GridViewColumn Header="商品编码"  Width="{Binding ElementName=ycolumn1,Path=ActualWidth}"/>
                                <GridViewColumn Header="商品名称"  Width="{Binding ElementName=ycolumn2,Path=ActualWidth}"/>
                                <GridViewColumn Header="单品码"  Width="{Binding ElementName=ycolumn3,Path=ActualWidth}"/>
                                <GridViewColumn Header="生产批号"  Width="{Binding ElementName=ycolumn4,Path=ActualWidth}"/>
                                <GridViewColumn Header="生成日期"  Width="{Binding ElementName=ycolumn5,Path=ActualWidth}"/>
                                <GridViewColumn Header="失效日期"  Width="{Binding ElementName=ycolumn6,Path=ActualWidth}"/>
                                <GridViewColumn Header="操作类型"  Width="{Binding ElementName=ycolumn7,Path=ActualWidth}"/>
                                <GridViewColumn Header="库存变化单号"  Width="{Binding ElementName=ycolumn8,Path=ActualWidth}"/>
                                <GridViewColumn Header="业务类型"  Width="{Binding ElementName=ycolumn7,Path=ActualWidth}"/>
                                <GridViewColumn Header="操作日期"  Width="{Binding ElementName=ycolumn8,Path=ActualWidth}"/>
                            </GridView>
                        </ListView.View>
                    </ListView>

                </Grid>
            </Border>

        </Grid>
    </Grid>
</UserControl>
